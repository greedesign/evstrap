jQuery(document).ready(function(c){"use strict";function n(t,e){var i='<div class="repeater" style="display:none"><input type="text" value="'+(e=void 0!==e?e:"").replace(/"/g,"&quot;")+'" class="repeater-input" /><span class="dashicons dashicons-sort"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';t.find(".sortable").append(i),t.find(".sortable").find(".repeater:last").slideDown("slow",function(){c(this).find("input").focus()})}function i(t){var e=t.find(".repeater-input").map(function(){return c(this).val()}).toArray();t.find(".customize-control-sortable-repeater").val(e),t.find(".customize-control-sortable-repeater").trigger("change")}function d(t){var e={font:t.find(".google-fonts-list").val(),regularweight:t.find(".google-fonts-regularweight-style").val(),italicweight:t.find(".google-fonts-italicweight-style").val(),boldweight:t.find(".google-fonts-boldweight-style").val(),category:t.find(".google-fonts-category").val()};t.find(".customize-control-google-font-selection").val(JSON.stringify(e)).trigger("change")}function p(t){var e;return e=(t=t.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(e=100*parseFloat(t.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),parseInt(e)):100}function u(t,e,i,n){var o,a,r;o=e.data("a8cIris"),a=e.data("wpWpColorPicker"),o._color._alpha=t,r=o._color.toString(),e.val(r),a.toggler.css({"background-color":r}),n&&f(t,i),e.wpColorPicker("color",r)}function f(t,e){e.slider("value",t),e.find(".ui-slider-handle").text(t.toString())}c(".sortable_repeater_control").each(function(){var t,e=c(this).find(".customize-control-sortable-repeater").val().split(","),i=e.length;if(0<i&&(c(this).find(".repeater-input").val(e[0]),1<i))for(t=1;t<i;++t)n(c(this),e[t])}),c(this).find(".sortable").sortable({update:function(t,e){i(c(this).parent())}}),c(".sortable").on("click",".customize-control-sortable-repeater-delete",function(t){t.preventDefault(),1<c(this).parent().parent().find(".repeater").length?c(this).parent().slideUp("fast",function(){var t=c(this).parent().parent();c(this).remove(),i(t)}):(c(this).parent().find(".repeater-input").val(""),i(c(this).parent().parent().parent()))}),c(".customize-control-sortable-repeater-add").click(function(t){t.preventDefault(),n(c(this).parent()),i(c(this).parent())}),c(".sortable").change(function(){i(c(this).parent())}),c(".slider-custom-control").each(function(){var t=c(this).find(".customize-control-slider-value").val(),e=c(this).find(".slider"),i=parseFloat(e.attr("slider-min-value")),n=parseFloat(e.attr("slider-max-value")),o=parseFloat(e.attr("slider-step-value"));e.slider({value:t,min:i,max:n,step:o,change:function(t,e){c(this).parent().find(".customize-control-slider-value").trigger("change")}})}),c(".slider").on("slide",function(t,e){c(this).parent().find(".customize-control-slider-value").val(e.value)}),c(".slider-reset").on("click",function(){var t=c(this).attr("slider-reset-value");c(this).parent().find(".customize-control-slider-value").val(t),c(this).parent().find(".slider").slider("value",t)}),c(".customize-control-slider-value").blur(function(){var t=c(this).val(),e=c(this).parent().find(".slider"),i=parseInt(e.attr("slider-min-value")),n=parseInt(e.attr("slider-max-value"));t<i&&(t=i,c(this).val(t)),n<t&&(t=n,c(this).val(t)),c(this).parent().find(".slider").slider("value",t)}),c(".single-accordion-toggle").click(function(){var t=c(this);c(this).parent().find(".single-accordion").slideToggle("slow",function(){t.toggleClass("single-accordion-toggle-rotate",c(this).is(":visible"))})}),c(".multi-image-checkbox").on("change",function(){var t,e;t=c(this).parent().parent(),e=t.find(".multi-image-checkbox").map(function(){if(c(this).is(":checked"))return c(this).val()}).toArray(),t.find(".customize-control-multi-image-checkbox").val(e).trigger("change")}),c(".customize-control-dropdown-select2").each(function(){c(".customize-control-select2").select2({allowClear:!0})}),c(".customize-control-select2").on("change",function(){var t=c(this).val();c(this).parent().find(".customize-control-dropdown-select2").val(t).trigger("change")}),c(".google-fonts-list").each(function(t,e){c(e).hasClass("select2-hidden-accessible")||c(e).select2()}),c(".google-fonts-list").on("change",function(){var i=c(this).parent().parent().find(".google-fonts-regularweight-style"),n=c(this).parent().parent().find(".google-fonts-italicweight-style"),o=c(this).parent().parent().find(".google-fonts-boldweight-style"),a=c(this).val(),t=c(this).attr("control-name"),r=0,l=0;i.empty(),n.empty(),o.empty(),n.prop("disabled",!1),o.prop("disabled",!1);var e=_wpCustomizeSettings.controls[t],s=c.map(e.understrapfontslist,function(t,e){if(t.family===a)return e})[0];c.each(e.understrapfontslist[s].variants,function(t,e){i.append(c("<option></option>").val(e).html(e)),0<=e.indexOf("italic")?(n.append(c("<option></option>").val(e).html(e)),r++):(o.append(c("<option></option>").val(e).html(e)),l++)}),0==r&&(n.append(c("<option></option>").val("").html("Not Available for this font")),n.prop("disabled","disabled")),0==l&&(o.append(c("<option></option>").val("").html("Not Available for this font")),o.prop("disabled","disabled")),c(this).parent().parent().find(".google-fonts-category").val(e.understrapfontslist[s].category),d(c(this).parent().parent())}),c(".google_fonts_select_control select").on("change",function(){d(c(this).parent().parent())}),c(".customize-control-tinymce-editor").each(function(){var t=_wpCustomizeSettings.controls[c(this).attr("id")].understraptinymcetoolbar1,e=_wpCustomizeSettings.controls[c(this).attr("id")].understraptinymcetoolbar2;wp.editor.initialize(c(this).attr("id"),{tinymce:{wpautop:!0,toolbar1:t,toolbar2:e},quicktags:!0})}),c(document).on("tinymce-editor-init",function(t,e){e.on("change",function(t){tinyMCE.triggerSave(),c("#"+e.id).trigger("change")})}),c(".alpha-color-control").each(function(){var a,n,t,e,r,i,l,s,o;a=c(this),n=a.val().replace(/\s+/g,""),t=a.attr("data-palette"),e=a.attr("data-show-opacity"),r=a.attr("data-default-color"),i={change:function(t,e){var i,n,o;i=a.attr("data-customize-setting-link"),n=a.wpColorPicker("color"),r==n&&(o=p(n),s.find(".ui-slider-handle").text(o)),wp.customize(i,function(t){t.set(n)}),l.find(".transparency").css("background-color",e.color.toString("no-alpha"))},palettes:-1!==t.indexOf("|")?t.split("|"):"false"!=t},a.wpColorPicker(i),l=a.parents(".wp-picker-container:first"),c('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(l.find(".wp-picker-holder")),s=l.find(".alpha-slider"),o={create:function(t,e){var i=c(this).slider("value");c(this).find(".ui-slider-handle").text(i),c(this).siblings(".transparency ").css("background-color",n)},value:p(n),range:"max",step:1,min:0,max:100,animate:300},s.slider(o),"true"==e&&s.find(".ui-slider-handle").addClass("show-opacity"),l.find(".min-click-zone").on("click",function(){u(0,a,s,!0)}),l.find(".max-click-zone").on("click",function(){u(100,a,s,!0)}),l.find(".iris-palette").on("click",function(){var t,e;f(e=p(t=c(this).css("background-color")),s),100!=e&&(t=t.replace(/[^,]+(?=\))/,(e/100).toFixed(2))),a.wpColorPicker("color",t)}),l.find(".button.wp-picker-clear").on("click",function(){var t=a.attr("data-customize-setting-link");a.wpColorPicker("color","#ffffff"),wp.customize(t,function(t){t.set("")}),f(100,s)}),l.find(".button.wp-picker-default").on("click",function(){f(p(r),s)}),a.on("input",function(){f(p(c(this).val()),s)}),s.slider().on("slide",function(t,e){u(parseFloat(e.value)/100,a,s,!1),c(this).find(".ui-slider-handle").text(e.value)})}),Color.prototype.toString=function(t){if("no-alpha"==t)return this.toCSS("rgba","1").replace(/\s+/g,"");if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var i=6-e.length-1;0<=i;i--)e="0"+e;return"#"+e}});